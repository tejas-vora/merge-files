{"version":3,"sources":["logo.svg","components/table.js","components/Merge.js","components/ExcelReader.js","App.js","reportWebVitals.js","index.js","components/types.js"],"names":["Table","tableData","useState","jsonData","setJsonData","useEffect","fetch","then","data","json","post","console","log","title","length","undefined","class","scope","window","innerWidth","map","key","PartyName","Bill","Cash","TotalAmount","onClick","message","encodeURI","find","NAME","NUMBER","open","sendMessage","className","id","r","document","createRange","selectNode","getElementById","getSelection","removeAllRanges","addRange","execCommand","toast","CopyToClipboard","Merge","withData","withOutData","finalData","setFinalData","setData","mergeArray","arr","outputObj","counter","obj","finalResult","name","amt","amt1","parseInt","push","sort","a","b","index","findIndex","p","splice","dateObj","Date","month","getMonth","output","String","getDate","padStart","getFullYear","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","result","value","collateArray","filename","label","ExcelReader","setWithData","setWithOutData","handleChange","e","file","reader","FileReader","rABS","readAsBinaryString","onload","bstr","target","wb","XLSX","read","type","bookVBA","wsname","SheetNames","ws","Sheets","utils","sheet_to_json","readAsArrayBuffer","handleFile","files","htmlFor","accept","SheetJSFT","onChange","App","pauseOnFocusLoss","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","x","join"],"mappings":"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","file":"static/js/main.1b64c033.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\n// import jsonData from \"../db.json\";\n\nconst Table = ({ tableData }) => {\n  const [jsonData, setJsonData] = useState([]);\n  function CopyToClipboard(id) {\n    var r = document.createRange();\n    r.selectNode(document.getElementById(id));\n    window.getSelection().removeAllRanges();\n    window.getSelection().addRange(r);\n    document.execCommand(\"copy\");\n    window.getSelection().removeAllRanges();\n    toast(\"copy to clipboard\");\n  }\n\n  useEffect(() => {\n    fetch(\"https://629224419d159855f0865064.mockapi.io/testapi\")\n      .then((data) => {\n        setJsonData(data.json());\n      })\n      .then((post) => {\n        console.log(post.title);\n      });\n  }, []);\n\n  const sendMessage = (PartyName, Bill, Cash) => {\n    let message = `Dear Sir,\n    an amount is Due\n    BILL Rs *${Bill == 0 ? \"00\" : Bill}*\n    CASH Rs *${Cash == 0 ? \"00\" : Cash}*\n    please take into consideration`;\n    encodeURI(message);\n    if (jsonData.length !== 0) {\n      jsonData.find(({ NAME, NUMBER }) => {\n        if (NAME !== \"Name NaN\" && NAME == PartyName) {\n          window.open(\n            `https://wa.me/91${NUMBER}?text=${encodeURI(message)}`,\n            \"_blank\"\n          );\n        }\n      });\n    }\n  };\n\n  return (\n    <>\n      <div>\n        {tableData.length != 0 && tableData[0] !== undefined && (\n          <table class=\"table table-responsive\">\n            <thead>\n              <tr>\n                <th scope=\"col\">PartyName</th>\n                <th scope=\"col\">Bill</th>\n                <th scope=\"col\">Cash</th>\n                <th scope=\"col\">TotalAmount</th>\n                {window.innerWidth > 800 && <th scope=\"col\">Message</th>}\n              </tr>\n            </thead>\n            <tbody>\n              {tableData.map(({ PartyName, Bill, Cash, TotalAmount }, key) => (\n                <tr key={key}>\n                  <th\n                    onClick={() => sendMessage(PartyName, Bill, Cash)}\n                    className=\"pointer\"\n                  >\n                    {PartyName}\n                  </th>\n                  <td>{Bill}</td>\n                  <td>{Cash}</td>\n                  <td>{TotalAmount}</td>\n                  {window.innerWidth > 800 && (\n                    <td>\n                      <div\n                        id={`copy${key}`}\n                        className=\"pointer\"\n                        onClick={() => CopyToClipboard(`copy${key}`)}\n                      >\n                        <div>Dear Sir,</div>\n                        <div>an amount is Due</div>\n                        <div>BILL Rs *{Bill == 0 ? \"00\" : Bill}*</div>\n                        <div>CASH Rs *{Cash == 0 ? \"00\" : Cash}*</div>\n                        <div>please take into consideration</div>\n                      </div>\n                    </td>\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </>\n  );\n};\nexport default Table;\n","import React, { useState, useEffect } from \"react\";\nimport ReactExport from \"react-data-export\";\nimport Table from \"./table\";\n\nconst Merge = ({ withData, withOutData }) => {\n  const [finalData, setFinalData] = useState([]);\n  const [data, setData] = useState([]);\n\n  function mergeArray(arr) {\n    var outputObj = {};\n    for (var counter = 0; counter < arr.length; counter++) {\n      var obj = arr[counter];\n      for (var key in obj) {\n        if (!outputObj[key]) {\n          outputObj[key] = obj[key];\n        }\n      }\n    }\n    return outputObj;\n  }\n  function collateArray(withData, withOutData) {\n    var arr = [...withData, ...withOutData];\n    var outputObj = {};\n    var result = [];\n    for (var counter = 0; counter < arr.length; counter++) {\n      var obj = arr[counter];\n      var value = obj[\"name\"];\n      if (!outputObj[value]) {\n        outputObj[value] = [];\n      }\n      outputObj[value].push(obj);\n    }\n    for (var key in outputObj) {\n      result.push(mergeArray(outputObj[key]));\n    }\n    setData(result);\n  }\n\n  useEffect(() => {\n    let finalResult = [];\n    if (data.length != 0) {\n      data.map(({ name, amt, amt1 }) => {\n        if (\n          (amt1 == undefined ? 0 : parseInt(amt1)) +\n            (amt == undefined ? 0 : parseInt(amt)) !=\n          0\n        ) {\n          finalResult.push({\n            PartyName: name,\n            Bill: amt1 == undefined ? 0 : parseInt(amt1),\n            Cash: amt == undefined ? 0 : parseInt(amt),\n            TotalAmount:\n              (amt1 == undefined ? 0 : parseInt(amt1)) +\n              (amt == undefined ? 0 : parseInt(amt)),\n          });\n        }\n      });\n    }\n\n    finalResult.sort((a, b) =>\n      a.PartyName > b.PartyName ? 1 : b.PartyName > a.PartyName ? -1 : 0\n    );\n    var index = finalResult.findIndex((p) => p.PartyName == \"Grand Total\");\n    finalResult.push(finalResult.splice(index, 1)[0]);\n    setFinalData(finalResult);\n\n    console.log(finalResult);\n  }, [data]);\n\n  const monthNames = [\n    \"01\",\n    \"02\",\n    \"03\",\n    \"04\",\n    \"05\",\n    \"06\",\n    \"07\",\n    \"08\",\n    \"09\",\n    \"10\",\n    \"11\",\n    \"12\",\n  ];\n  const dateObj = new Date();\n  const month = monthNames[dateObj.getMonth()];\n  const day = String(dateObj.getDate()).padStart(2, \"0\");\n  const year = dateObj.getFullYear();\n  const output = day + \"/\" + month + \"/\" + year;\n  const ExcelFile = ReactExport.ExcelFile;\n  const ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n  const ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\n\n  return (\n    <>\n      <div className=\"my-3\">\n        <button\n          className=\"btn btn-primary  mx-3\"\n          onClick={() => collateArray(withData, withOutData)}\n        >\n          Merge\n        </button>\n        <ExcelFile filename={`Payment Details-${output}`}>\n          <ExcelSheet data={finalData} name=\"customer\">\n            <ExcelColumn label=\"PartyName\" value=\"PartyName\" />\n            <ExcelColumn label=\"Bill\" value=\"Bill\" />\n            <ExcelColumn label=\"Cash\" value=\"Cash\" />\n            <ExcelColumn label=\"TotalAmount\" value=\"TotalAmount\" />\n          </ExcelSheet>\n        </ExcelFile>\n      </div>\n      <Table tableData={finalData} />\n    </>\n  );\n};\n\nexport default Merge;\n","import React, { useState } from \"react\";\nimport XLSX from \"xlsx\";\nimport Merge from \"./Merge\";\nimport { SheetJSFT } from \"./types\";\n\nconst ExcelReader = () => {\n  const [withData, setWithData] = useState([]);\n  const [withOutData, setWithOutData] = useState([]);\n\n  const handleFile = (file, value) => {\n    /* Boilerplate to set up FileReader */\n    const reader = new FileReader();\n    const rABS = !!reader.readAsBinaryString;\n\n    reader.onload = (e) => {\n      /* Parse data */\n      const bstr = e.target.result;\n      const wb = XLSX.read(bstr, {\n        type: rABS ? \"binary\" : \"array\",\n        bookVBA: true,\n      });\n      const wsname = wb.SheetNames[0];\n      const ws = wb.Sheets[wsname];\n      if (value == \"withData\") {\n        setWithData(XLSX.utils.sheet_to_json(ws));\n      } else if (value == \"withOutData\") {\n        setWithOutData(XLSX.utils.sheet_to_json(ws));\n      }\n    };\n\n    if (rABS) {\n      reader.readAsBinaryString(file);\n    } else {\n      reader.readAsArrayBuffer(file);\n    }\n  };\n  const handleChange = (e, value) => {\n    handleFile(e.target.files[0], value);\n  };\n\n  return (\n    <>\n      <div className=\"input_field\">\n        <div>\n          <label htmlFor=\"file\">With File </label>\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            id=\"file\"\n            accept={SheetJSFT}\n            onChange={(e) => handleChange(e, \"withData\")}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"file1\">With Out File </label>\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            id=\"file1\"\n            accept={SheetJSFT}\n            onChange={(e) => handleChange(e, \"withOutData\")}\n          />\n        </div>\n      </div>\n      <Merge withData={withData} withOutData={withOutData} />\n    </>\n  );\n};\n\nexport default ExcelReader;\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ExcelReader from \"./components/ExcelReader\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ExcelReader />\n      <ToastContainer pauseOnFocusLoss={false} autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const SheetJSFT = [\n  \"xlsx\",\n  \"xlsb\",\n  \"xlsm\",\n  \"xls\",\n  \"xml\",\n  \"csv\",\n  \"txt\",\n  \"ods\",\n  \"fods\",\n  \"uos\",\n  \"sylk\",\n  \"dif\",\n  \"dbf\",\n  \"prn\",\n  \"qpw\",\n  \"123\",\n  \"wb*\",\n  \"wq*\",\n  \"html\",\n  \"htm\",\n]\n  .map(function (x) {\n    return \".\" + x;\n  })\n  .join(\",\");\n"],"sourceRoot":""}